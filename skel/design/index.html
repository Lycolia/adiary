<@6>

<@> システムモード
<$v.system_mode("デザイン編集")>

<!--========================================================================-->
<@> 階層ツリー、権限確認、エラー表示
<@call("_sub/menu_tree")>

<!--========================================================================-->
<article class="system setting">
<h2><@v.title></h2>
<div class="body">

	<ul class="menu">
		<li><a href="<@v.myself>?<@v.skel_dir>theme">テーマ選択（配色）</a><span class="help" data-help="ブログの見た目を変更します。CSSによって定義されたデザインの変更です。">?</span><ul>
			<li><a href="<@v.myself>?<@v.skel_dir>viewtest/">テーマの表示テスト</a></li>
			<li class="for-pc"><a href="#" id="sp-emulation">スマホの表示テスト</a></li>
		</ul></li>
		<li><a href="<@v.myself>?<@v.skel_dir>edit">デザイン編集</a><span class="help" data-help="ブログのHTML要素をカスタマイズします。モジュールの配置換えや、モジュール個別の表示カスタマイズなどが行えます。\nデザイン編集画面でのみ一部の表示が崩れることがあります。">?</span></li>
		<li><a href="<@v.myself>?<@v.skel_dir>reset">デザインの初期化</a><span class="help" data-help="デザイン編集で行ったデザインの変更を初期化します。カスタマイズをやり直したい時に使用してください。">?</span></li>
		<li><a href="<@v.myself>?<@v.skel_dir>usercss">ユーザーCSS</a><span class="help" data-help="テーマやデザイン編集では不十分な場合、直接CSSを記述して見た目をカスタマイズします。">?</span></li>
		<li><a href="<@v.myself>?<@v.skel_dir>spmenu">スマホメニュー設定</a><span class="help" data-help="スマホでアクセスしたときに表示されるドロップダウンメニューに何を表示するか選択します。">?</span></li>
	</ul>

	<br>
	<form action="<@v.myself>?<@v.skeleton>" method="POST">
	<input type="hidden" name="action" value="<@v.skel_dir>reinstall_modules">
	<input type="hidden" name="csrf_check_key" value="<@CSRF_check_key>">
	<button type="submit">デザインモジュールの再インストール</button><span class="help" data-help="デザインモジュールを手動で更新したときに実行します。">?</span>
	</form>

</div>
</article>

<script>
$(function(){
	// スマホ表示サンプルウィンドウ
	$('#sp-emulation').click(function(){
		var win = window.open('<@v.myself>?&_sphone=1', 'spmode', 'width=360, height=600, location=yes, menubar=no, resizable=yes, scrollbars=yes');
		win.focus();
	});
});
</script>
