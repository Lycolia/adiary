<@6>
<@local(s,err)>

<@> システムモード
<$v.system_mode("テーマの表示テスト")>

<!--========================================================================-->
<@> 階層ツリー、初期処理
<@call("<@v.skel_dir>_dir_tree")>

<!--========================================================================-->
<article class="system setting">
<h2>記事のインポート</h2>
<div class="body">
	<p>インポート形式の部分をクリックすると、その項目を開きます。</p>

	<div aria-valuenow="50" aria-valuemax="50" aria-valuemin="0" role="progressbar" class="ui-progressbar ui-widget ui-widget-content ui-corner-all" id="progress"><span class="label">50%</span><div style="display: block; width: 50%;" class="ui-progressbar-value ui-widget-header ui-corner-left"></div></div>

<textarea id="session-log" rows="10" class="w98p" style="display: inline-block;" data-interval="300" readonly=""> <@\>
Import file size: 2.000000 KB
[option] append_tags=import
[option] default_tags=
[option] link_stop=1
[option] p_stop=1
[option] parser=default_p1
[option] pre_end=1
[option] section2title=1
[option] snum=1
[option] style_conv=1
[option] type=Hatena
[option] up_section=1
[DB] BEGIN
[import] あああああ
[DB] COMMIT
1 件の記事をインポートしました（全 1 件中）
インポート処理が終了しました
インポート処理時間は 0.12 秒でした
トータル処理時間は 0.14 秒でした
</textarea>


	<div class="jqueryui-accordion">
<h3 id="adiary">adiary形式 (XML)</h3>
<div>
	<ul class="none">
		<li><input type="checkbox" name="Hatena:save_pkey" value="1" class="js-enable" data-target="#adiary-avoid-duplicate"><label>記事番号（pkey）を保存する</label><span class="help" data-help="データのない空のブログにインポートするとき以外は指定しないでください。">?</span></li>
		<li><input type="checkbox" name="Hatena:avoid_pkey_collision" value="1" id="adiary-avoid-duplicate"><label>pkey重複時にpkeyを変更してインポートする</label></li>
	</ul>

	<p>※<a href="http://adiary.org/tools.html">コンバータ</a>を利用することで、mixiやtDiary2のデータをインポートすることもできます。</p>

	<button type="button" name="Hatena" class="import">adiary形式でインポート</button>

</div>
<h3 id="hatena">はてな形式 (XML)</h3>
<div>
	<p>記法コンバータを内蔵していますが、細かな非互換が発生することもあります（およそ大丈夫です）。</p>

	<ul class="none">
		<li><input type="checkbox" name="Hatena:style_conv" value="1" checked><label>はてな記法をadiary互換記法に変換する</label><span class="help" data-help="id:～, f:id:～, [r:id:～]等を[hatena:id:～], [hatena:f:～], [hatena:r:～]等に変換">?</span></li>

		<li><input type="checkbox" name="Hatena:link_stop" value="1" checked><label>URL自動リンク停止記法<span class="mono">「[]～[]」</span>を除去する</label><span class="help" data-help="adiaryは自動リンクしないためにこの記法は不要です">?</span></li>

		<li><input type="checkbox" name="Hatena:autolink" value="1"><label>URL自動リンクを行う</label></li>

		<li><input type="checkbox" name="Hatena:p_stop" value="1" checked><label>pタグ停止記法<span class="mono">「&gt;&lt;tag&gt;～&lt;tag&gt;&lt;」</span>を変換する</label></li>

		<li><input type="checkbox" name="Hatena:pre_end" value="1" checked><label>行末<span class="mono">「|&lt;」</span>によるpreブロックの終わりを変換する</label></li>

		<li><input type="checkbox" name="Hatena:f_delete" value="1"><label>はてなの写真表示記法<span class="mono">「f:id:～」</span>をコメントアウトする</label></li>

		<li><input type="checkbox" name="Hatena:section2title" value="1" checked class="js-enable" data-target="#hatena-up-section"><label>最初の見出しから記事タイトルを生成する</label><span class="help" data-help="生成しない場合及び見出しが見つからない場合は、タイトルは日付になります">?</span></li>

		<li><input type="checkbox" name="Hatena:up_section" value="1" checked><label>タイトルにした見出しは記事中から削除する</label><span class="help" data-help="はてなダイアリーでは管理が1日単位であるため、1日の間に複数のトップレベルの見出し（*見出し）がある場合、意図したとおりに表示されないことがあります。">?</span></li>

		<li>パーサー選択 <select name="Hatena:parser">
		
			<option value="default">標準（そのまま改行）</option>
		
			<option value="default_p1" selected>標準（１行＝１段落）</option>
		
			<option value="default_p2">標準（空行で段落。改行無視）</option>
		
			<option value="default_p2_br">標準（空行で段落。そのまま改行）</option>
		
			<option value="default_no_br">標準（改行無視）</option>
		
			<option value="simple_br">HTML（そのまま改行）</option>
		
			<option value="simple_p">HTML（１行＝１段落）</option>
		
			<option value="simple">HTML（改行無視）</option>
		
			<option value="markdown">Markdown</option>
				</select>（通常は変更不要）</li>
	</ul>
	
	<button type="button" name="Hatena" class="import">はてな形式でインポート</button>
</div>
<h3>Movable Type形式（FC2形式を含む）</h3>
<div>
	<table>
	<tr><th>改行設定のデフォルト</th>
		<td>
		<input type="radio" name="MT:lf2br" value="1" checked><label>改行を変換する</label>
		<input type="radio" name="MT:lf2br" value="0"><label>変換なし</label>
		<input type="checkbox" name="MT:lf2br_force" value="1"><label>強制指定</label><span class="help" data-help="CONVERT BREAKSの設定が狂ってるデータをインポートする際にのみご利用ください。">?</span>
		</td>
	</tr>
	<tr><th>日付変更時間の処理</th>
		<td>午前 
		<select name="MT:change_hour_int">
			<option value="0" selected>0</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
		</select> 時<span class="help" data-help="「書き込み日時」→「記事の日付」生成処理で使用します。">?</span>
		</td>
	</tr>
	<tr><th>入力データの時間帯</th>
		<td>
		<select name="MT:tz">
			<option value="-11">UTC-11:00</option>
			<option value="-10">UTC-10:00</option>
			<option value="-9" >UTC-9:00</option>
			<option value="-8" >UTC-8:00</option>
			<option value="-7" >UTC-7:00</option>
			<option value="-6" >UTC-6:00</option>
			<option value="-5" >UTC-5:00</option>
			<option value="-4" >UTC-4:00</option>
			<option value="-3" >UTC-3:00</option>
			<option value="-2" >UTC-2:00</option>
			<option value="-1" >UTC-1:00</option>
			<option value="0"  >UTC (GMT)</option>
			<option value="1"  >UTC+1:00</option>
			<option value="2"  >UTC+2:00</option>
			<option value="3"  >UTC+3:00</option>
			<option value="4"  >UTC+4:00</option>
			<option value="5"  >UTC+5:00</option>
			<option value="6"  >UTC+6:00</option>
			<option value="7"  >UTC+7:00</option>
			<option value="8"  >UTC+8:00</option>
			<option value="9" selected>UTC+9:00 (JST)</option>
			<option value="10" >UTC+10:00</option>
			<option value="11" >UTC+11:00</option>
			<option value="12" >UTC+12:00</option>
			<option value="13" >UTC+13:00</option>
			<option value="14" >UTC+14:00</option>
		</select>
		（通常は変更しない）</td>
	</tr>
	</table>

	<button type="button" name="MT" class="import">Movable Type形式/FC2形式でインポート</button>
</div>
<h3>JUGEM形式 (XML)</h3>
<div>
	<p>JUGEM形式、Serene Bach拡張JUGEM形式の両方に対応しています。</p>
	<table>
	<tr><th>改行設定のデフォルト</th>
		<td>
		<input type="radio" name="JUGEM:lf2br" value="1"><label>改行を変換する</label>
		<input type="radio" name="JUGEM:lf2br" value="0" checked><label>変換なし</label>
		<input type="checkbox" name="JUGEM:lf2br_force" value="1"><label>強制指定</label><span class="help" data-help="CONVERT BREAKSの設定が狂ってるデータをインポートする際にのみご利用ください。">?</span>
		</td>
	</tr>
	<tr><th>日付変更時間の処理</th>
		<td>午前 
		<select name="JUGEM:change_hour_int">
			<option value="0" selected>0</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
		</select> 時<span class="help" data-help="「書き込み日時」→「記事の日付」生成処理で使用します。">?</span>
		</td>
	</tr>
	<tr><th>入力データの時間帯</th>
		<td>
		<select name="JUGEM:tz">
			<option value="-11">UTC-11:00</option>
			<option value="-10">UTC-10:00</option>
			<option value="-9" >UTC-9:00</option>
			<option value="-8" >UTC-8:00</option>
			<option value="-7" >UTC-7:00</option>
			<option value="-6" >UTC-6:00</option>
			<option value="-5" >UTC-5:00</option>
			<option value="-4" >UTC-4:00</option>
			<option value="-3" >UTC-3:00</option>
			<option value="-2" >UTC-2:00</option>
			<option value="-1" >UTC-1:00</option>
			<option value="0"  >UTC (GMT)</option>
			<option value="1"  >UTC+1:00</option>
			<option value="2"  >UTC+2:00</option>
			<option value="3"  >UTC+3:00</option>
			<option value="4"  >UTC+4:00</option>
			<option value="5"  >UTC+5:00</option>
			<option value="6"  >UTC+6:00</option>
			<option value="7"  >UTC+7:00</option>
			<option value="8"  >UTC+8:00</option>
			<option value="9" selected>UTC+9:00 (JST)</option>
			<option value="10" >UTC+10:00</option>
			<option value="11" >UTC+11:00</option>
			<option value="12" >UTC+12:00</option>
			<option value="13" >UTC+13:00</option>
			<option value="14" >UTC+14:00</option>
		</select>
		（通常は変更しない）<span class="help" data-help="データ中でタイムゾーンが指定されてない時に利用されます。">?</span></td>
	</tr>
	</table>

	<button type="button" name="JUGEM" class="import">JUGEM形式でインポート</button>
</div>
<h3>WordPress XML形式</h3>
<div>
	<table>
	<tr><th>固定ページのインポート</th>
		<td><input type="checkbox" name="WPS:import_static"  value="1" checked class="js-enable" data-target="#WPS-tags-for-static"><label>固定ページをインポートする</label></td>
	</tr>
	<tr><th>固定ページに付加するタグ</th>
		<td>
		<input type="text" name="WPS:tags_for_static" class="w160" id="WPS-tags-for-static">
		</td>
	</tr>
	<tr><th>非承認コメント</th>
		<td><input type="checkbox" name="WPS:no_auth"  value="1"><label>非承認コメントをインポートしない</label></td>
	</tr>
	<tr><th>日付変更時間の処理</th>
		<td>午前 
		<select name="WPS:change_hour_int">
			<option value="0" selected>0</option>
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
		</select> 時<span class="help" data-help="「書き込み日時」→「記事の日付」生成処理で使用します。">?</span>
		</td>
	</tr>
	</table>

	<p>パスワード保護ページは非公開記事としてインポートされます。</p>

	<button type="button" name="WordPressXML" data-class="WPS" class="import">WordPress XML形式でインポート</button>
</div>
	</div>
</div>
</article>
