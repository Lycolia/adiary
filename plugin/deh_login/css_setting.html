<@6>
<@local(ps)>
<$ps=argv#0>

	<div>
		<label><input class="js-switch" type="radio" name="view" data-target="#set-login" checked>ログイン部</label>
		<label><input class="js-switch" type="radio" name="view" data-target="#set-header" checked>ヘッダ部</label>
		<label><input class="js-switch" type="radio" name="view" data-target="#set-all" checked>全体</label>
	</div>
<div class="body">
<div id="set-login">
	<table class="blog-setting">
	<tbody>
	<tr><th>ログイン表示の消去<span class="help" data-help="画面右上（等）に表示されるログインリンクを見えなくします。見えないだけ（空白文字になるだけ）でリンク自体は残ります。">?</span></th>
		<td>
		<label><input type="checkbox" name="erase_login" value="1"<@if(ps.erase_login, ' checked')>>「ログイン」を見えなくする</label>
		</td>
	</tr>
	<tr><th>ログインの文字</th>
		<td>
		<input type="text" id="font-c"  name="font_c"  value="<@ps.font_c  || '#000000'>" class="color-picker"> 
		リンク<input type="text" id="font-ca" name="font_ca" value="<@ps.font_ca || '#000000'>" class="color-picker"> 
		<label><input type="checkbox" name="bf" value="1"<@if(ps.bf, ' checked')> id="font-bf">太字</label> 
		<label><input type="checkbox" class="js-disable" data-target="#font-c,#font-ca,#font-bf"<@if(ps.font_c eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr><th>背景色<span class="help" data-help="ログインヘッダ部分の背景を設定します。">?</span></th>
		<td>
			<input type="text" id="nav-bg" name="nav_bg" value="<@ps.nav_bg || '#ffffff'>" class="color-picker">
			透過<input type="number" class="w50" name="nav_bg_alpha" step="0.1" min="0.0" max="1.0" value="<@ps.nav_bg_alpha || 1>" id="nav-bg-alpha">(0=透明) 			<label><input type="checkbox" class="js-disable" data-target="#nav-bg,#nav-bg-alpha"<@if(ps.nav_bg eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr><th>タイトル内への配置</th>
		<td>
		<label><input type="checkbox" name="absolute" value="1"<@if(ps.absolute, ' checked')>>タイトル領域内に配置する</label>
		</td>
	</tr>
	<tr>
		<th>マージン</th>
		<td>
			上<input type="number" class="int w50" name="margin0" value="<@ps.margin0 || 0>" min="-999" max="999" id="margin0"> 
			右<input type="number" class="int w50" name="margin1" value="<@ps.margin1 || 0>" min="-999" max="999" id="margin1"> 
			下<input type="number" class="int w50" name="margin2" value="<@ps.margin2 || 0>" min="-999" max="999" id="margin2"> 
			左<input type="number" class="int w50" name="margin3" value="<@ps.margin3 || 0>" min="-999" max="999" id="margin3"> &ensp;
			<label><input type="checkbox" class="js-disable" data-target="#margin0,#margin1,#margin2,#margin3"<@if(ps.margin0 eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr>
		<th>padding</th>
		<td>
			上<input type="number" class="int w50" name="padding0" value="<@ps.padding0 || 0>" min="0" max="999" id="padding0"> 
			右<input type="number" class="int w50" name="padding1" value="<@ps.padding1 || 0>" min="0" max="999" id="padding1"> 
			下<input type="number" class="int w50" name="padding2" value="<@ps.padding2 || 0>" min="0" max="999" id="padding2"> 
			左<input type="number" class="int w50" name="padding3" value="<@ps.padding3 || 0>" min="0" max="999" id="padding3"> &ensp;
			<label><input type="checkbox" class="js-disable" data-target="#padding0,#padding1,#padding2,#padding3"<@if(ps.padding0 eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	</tbody>
	</table>

</div>
<div id="set-header">

	<table class="blog-setting">
	<tbody>
	<tr><th>ヘッダ領域の背景<span class="help" data-help="ログインヘッダやタイトル部分の背景を指定します。">?</span></th>
		<td>
			<input type="text" id="head-bg" name="head_bg" value="<@ps.head_bg || '#ffffff'>" class="color-picker">
			透過<input type="number" class="w50" name="head_bg_alpha" step="0.1" min="0.0" max="1.0" value="<@ps.head_bg_alpha || 1>" id="head-bg-alpha">(0=透明)			<label><input type="checkbox" class="js-disable" data-target="#head-bg,#head-bg-alpha"<@if(ps.head_bg eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr><th>ヘッダの背景画像</th>
		<td>
			<input type="file" class="fileup" name="head_bgfile"><br>
			<label><input type="checkbox" name="head_bgfile_fit" value="1"<@if(ps.head_bgfile_fit,' checked')>>ヘッダの高さを画像にフィットさせる</label>
			<span class="help" data-help="画像がヘッダがより大きい場合のみ有効になります。">?</span><br>
			<label><input type="checkbox" name="head_bgfile_norep" value="1"<@if(ps.head_bgfile_norep,' checked')>>ヘッダ画像を繰り返し表示しない</label><br>
			<@ifexec(ps.head_bgfile, begin)>
			<label><input type="checkbox" name="head_bgfile_void" value="1">現在使用しているファイルを無効にする</label>
			<$end>
		</td>
	</tr>
	<tr>
		<th>ヘッダのマージン</th>
		<td>
			上<input type="number" class="int w50" name="margin4" value="<@ps.margin4 || 0>" min="-999" max="999" id="margin4"> 
			右<input type="number" class="int w50" name="margin5" value="<@ps.margin5 || 0>" min="-999" max="999" id="margin5"> 
			下<input type="number" class="int w50" name="margin6" value="<@ps.margin6 || 0>" min="-999" max="999" id="margin6"> 
			左<input type="number" class="int w50" name="margin7" value="<@ps.margin7 || 0>" min="-999" max="999" id="margin7"> &ensp;
			<label><input type="checkbox" class="js-disable" data-target="#margin4,#margin5,#margin6,#margin7"<@if(ps.margin4 eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr>
		<th>ヘッダのpadding</th>
		<td>
			上<input type="number" class="int w50" name="padding4" value="<@ps.padding4 || 0>" min="0" max="999" id="padding4"> 
			右<input type="number" class="int w50" name="padding5" value="<@ps.padding5 || 0>" min="0" max="999" id="padding5"> 
			下<input type="number" class="int w50" name="padding6" value="<@ps.padding6 || 0>" min="0" max="999" id="padding6"> 
			左<input type="number" class="int w50" name="padding7" value="<@ps.padding7 || 0>" min="0" max="999" id="padding7"> &ensp;
			<label><input type="checkbox" class="js-disable" data-target="#padding4,#padding5,#padding6,#padding7"<@if(ps.padding4 eq '',' checked')>>変更しない</label>
		</td>
	</tr>

	</tbody>
	</table>
</div>
<div id="set-all">

	<table class="blog-setting">
	<tbody>
	<tr><th>全体の背景<span class="help" data-help="ウィンドウ全体のベースとなる背景を指定します。">?</span></th>
		<td>
			<input type="text" id="bg" name="bg" value="<@ps.bg || '#ffffff'>" class="color-picker">
			<label><input type="checkbox" class="js-disable" data-target="#bg"<@if(ps.bg eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr><th>全体の背景画像</th>
		<td>
			<input type="file" class="fileup" name="bgfile"><br>
			<@ifexec(ps.bgfile, begin)>
			<label><input type="checkbox" name="bgfile_void" value="1">現在使用しているファイルを無効にする</label>
			<$end>
		</td>
	</tr>
	<tr><th>背景スクロール</th>
		<td>
			<label><input type="radio" name="bg_attach" value="fixed" <@if(ps.bg_attach eq 'fixed',' checked')>>固定</label>
			<label><input type="radio" name="bg_attach" value="scroll"<@if(ps.bg_attach eq 'scroll',' checked')>>スクロール</label>
			<label><input type="radio" name="bg_attach" value=""      <@if(ps.bg_attach eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr><th>表示領域の横幅<span class="help" data-help="横幅がフリー設定（ウィンドウに合わせる）になっているテーマに対し、表示領域の横幅を固定で設定します。">?</span></th>
		<td>
			<input type="number" class="int w60" name="width" value="<@ps.width || 800>" min="600" max="2000" id="width">px &ensp;
			<label><input type="checkbox" class="js-disable" data-target="#width"<@if(!ps.width,' checked')>>変更しない</label>
		</td>
	</tr>
	<tr><th>表示領域の背景<span class="help" data-help="実際の表示領域の背景を指定します。">?</span></th>
		<td>
			<input type="text" id="body-bg" name="body_bg" value="<@ps.body_bg || '#ffffff'>" class="color-picker">
			透過<input type="number" class="w50" name="body_bg_alpha" step="0.1" min="0.0" max="1.0" value="<@ps.body_bg_alpha || 1>" id="body-bg-alpha">(0=透明)			<label><input type="checkbox" class="js-disable" data-target="#body-bg,#body-bg-alpha"<@if(ps.body_bg eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	<tr><th>表示領域の背景画像</th>
		<td>
			<input type="file" class="fileup" name="body_bgfile"><br>
			<@ifexec(ps.body_bgfile, begin)>
			<label><input type="checkbox" name="body_bgfile_void" value="1">現在使用しているファイルを無効にする</label>
			<$end>
		</td>
	</tr>
	<tr><th>背景スクロール</th>
		<td>
			<label><input type="radio" name="body_bg_attach" value="fixed" <@if(ps.body_bg_attach eq 'fixed',' checked')>>固定</label>
			<label><input type="radio" name="body_bg_attach" value="scroll"<@if(ps.body_bg_attach eq 'scroll',' checked')>>スクロール</label>
			<label><input type="radio" name="body_bg_attach" value=""      <@if(ps.body_bg_attach eq '',' checked')>>変更しない</label>
		</td>
	</tr>
	</tbody>
	</table>

</div>
</div><!-- body -->

<script>
$(function(){
// デフォルト値を設定する
var obj   = $f('#nav-header');
var body  = $f('#body');
var abody = $f('#adiary-body');
var head  = $f('#header');
if (!  obj.length) return;
if (! body.length) return;
if (!abody.length) return;
if (! head.length) return;

// 文字
if ('<@ps.font_c>' == '') {
	var col = parse_color( obj.css('color') );
	if (col) $('#font-c').val(col);
	var col = parse_color( obj.find('a:not(.welcome-prefix)').css('color') );
	if (col) $('#font-ca').val(col);
}

// 全体の横幅
if ('<@ps.width>' == '') {
	$('#width').val( abody.width() );
}
if ('<@ps.bg>' == '') {
	var col = parse_color( body.css('background-color') );
	if (col) $('#bg').val(col);
}
if ('<@ps.nav_bg>' == '') {
	var col = parse_color( obj.css('background-color') );
	if (col) $('#nav-bg').val(col);
}

if ('<@ps.body_bg>' == '') {
	var col = parse_color( abody.css('background-color') );
	if (col) $('#body-bg').val(col);
}
if ('<@ps.head_bg>' == '') {
	var col = parse_color( head.css('background-color') );
	if (col) $('#head-bg').val(col);
}

// マージンとpadding
if ('<@ps.margin0>' == '')
	$('#margin0').val( parse_px( obj.css('margin-top') ) );
if ('<@ps.margin1>' == '')
	$('#margin1').val( parse_px( obj.css('margin-right') ) );
if ('<@ps.margin2>' == '')
	$('#margin2').val( parse_px( obj.css('margin-bottom') ) );
if ('<@ps.margin3>' == '')
	$('#margin3').val( parse_px( obj.css('margin-left') ) );
if ('<@ps.padding0>' == '')
	$('#padding0').val( parse_px( obj.css('padding-top') ) );
if ('<@ps.padding1>' == '')
	$('#padding1').val( parse_px( obj.css('padding-right') ) );
if ('<@ps.padding2>' == '')
	$('#padding2').val( parse_px( obj.css('padding-bottom') ) );
if ('<@ps.padding3>' == '')
	$('#padding3').val( parse_px( obj.css('padding-left') ) );

// ヘッダのマージンとpadding
if ('<@ps.margin4>' == '')
	$('#margin4').val( parse_px( head.css('margin-top') ) );
if ('<@ps.margin5>' == '')
	$('#margin5').val( parse_px( head.css('margin-right') ) );
if ('<@ps.margin6>' == '')
	$('#margin6').val( parse_px( head.css('margin-bottom') ) );
if ('<@ps.margin7>' == '')
	$('#margin7').val( parse_px( head.css('margin-left') ) );
if ('<@ps.padding4>' == '')
	$('#padding4').val( parse_px( head.css('padding-top') ) );
if ('<@ps.padding5>' == '')
	$('#padding5').val( parse_px( head.css('padding-right') ) );
if ('<@ps.padding6>' == '')
	$('#padding6').val( parse_px( head.css('padding-bottom') ) );
if ('<@ps.padding7>' == '')
	$('#padding7').val( parse_px( head.css('padding-left') ) );

//=============================================================================
});
</script>
