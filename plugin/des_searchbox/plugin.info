######################################################################
title=検索ボックス
version=1.10
#					(C)2013-2014 nabe@abk
######################################################################
author=nabe@abk
url=https://twitter.com/nabe_abk
license=WTFPL

adiary_version=2.94
module_type=sidebar
load_module_html_in_edit=1

*sample_html=<<HTML
<div class="hatena-module" id="side-search">
<div class="hatena-moduletitle">検索</div>
<div class="hatena-modulebody">
<form method="GET" action="./" id="side-search-form" onsubmit="return false;">
<input type="search" class="w80" name="q" value="" id="side-search-textbox" required>
<input type="submit" value="検索" id="side-search-submit"><br>
<input name="all" value="0" type="radio"><label>タイトル</label>
<input name="all" value="1" checked="" type="radio"><label>全文</label>
</form>
</div>
</div>
HTML

*module_html=<<HTML
<$ps = v.load_plgset('<@this>')>
<div class="hatena-module" id="side-search" data-module-name="<@this>">
<@if(!ps.title_none, '<div class="hatena-moduletitle">検索</div>')>
<div class="hatena-modulebody">
<form method="GET" action="<@v.myself>" id="side-search-form">
<input type="search" class="w80" name="q" value="<@tag_escape(x = Query.q)>" id="side-search-textbox" required>
<input type="submit" value="検索" id="side-search-submit"><br>
<$ifset(exists(Query.all), all, Query.all, ps.all)>
<input type="radio" name="all" value="0" <@if(!all, "checked")>><label>タイトル</label>
<input type="radio" name="all" value="1" <@if( all, "checked")>><label>全文</label>
</form>
</div> <!-- hatena-modulebody -->
</div> <!-- hatena-module -->
HTML
