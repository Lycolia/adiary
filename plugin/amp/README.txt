*********************************************************************
AMP対応プラグイン
						(c) nabe@abk
*********************************************************************
[UTF-8]

サイトをGoogle AMP(Accelerated Mobile Pages)に対応させます。
単一記事を表示してる状態で「?amp」を追加して表示確認することもできます。

・Google Analytics IDが設定されていれば、AMPページも解析できます。

・画像サイズは自動設定されますが、これは最初に記事がAMP表示された時に行われます。
　更新するためには記事を再保存するか、再構築してください。

・使用テーマがスマホに対応していれば、AMP表示はスマホ画面に準拠します。
　JavaScript等で要素順を入れ替えてるテーマは一部表示が崩れることがあります。

https://www.ampproject.org/docs/reference/components

●使用ライブラリ

Image::Magick
Net::SSLeay

●対応している自動変換

-<img>
-<audio>
-YouTube
-Twitter

videoタグは動画サムネイル等、難しい問題があるので未対応です。
amp-videoに変換はしますが AMP valid にはなりません。

●注意(2017/01/24)

裸の <img> タグがあると、それ以降の文章が表示されないようです。
AMPスクリプトのバグと思われるため、そのうち修正されるかと思いますが、
<figure> や <div> などで画像を囲うか、
記法を使った画像貼り付けに変更してください。

